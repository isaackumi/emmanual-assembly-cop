(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let r=(0,n.forwardRef)(({color:r="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:u,...d},f)=>(0,n.createElement)("svg",{ref:f,...s,width:l,height:l,stroke:r,strokeWidth:o?24*Number(a)/Number(l):a,className:["lucide",`lucide-${i(e)}`,c].join(" "),...d},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r}},4579:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Church",[["path",{d:"m18 7 4 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9l4-2",key:"gy5gyo"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 22V5l-6-3-6 3v17",key:"1hsnhq"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M10 9h4",key:"u4k05v"}]])},2741:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,r(2898).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},400:function(e,t,r){Promise.resolve().then(r.bind(r,3298))},3298:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(7437),s=r(2265),i=r(4033),l=r(5754),a=r(5179),o=r(4579),c=r(2741),u=r(5083),d=r(8346);function f(){let[e,t]=(0,s.useState)(""),[r,f]=(0,s.useState)(!1),m=(0,i.useRouter)(),{toast:h}=(0,u.pm)(),g=async()=>{if(console.log("Login attempt started with:",e),!e.trim()){h({title:"Error",description:"Please enter your phone number or membership ID",variant:"destructive"});return}f(!0),console.log("Loading set to true");try{console.log("Calling API with:",{phoneOrId:e});let t=await fetch("/api/auth/direct-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneOrId:e})}),r=await t.json();if(console.log("API Response:",r),!t.ok)throw Error(r.error||"Login failed");if(r.success&&r.user)console.log("Login successful, setting test user:",r.user),(0,d.i)(r.user),h({title:"Welcome back!",description:"Hello ".concat(r.user.full_name)}),console.log("Redirecting to dashboard..."),m.push("/dashboard");else throw Error(r.error||"Invalid credentials")}catch(e){console.error("Login error:",e),h({title:"Login Failed",description:e instanceof Error?e.message:"Please check your credentials and try again",variant:"destructive"})}finally{f(!1)}};return(0,n.jsxs)("div",{className:"min-h-screen flex",children:[(0,n.jsxs)("div",{className:"hidden lg:flex lg:w-3/5 lg:flex-col lg:justify-center lg:px-20 relative overflow-hidden",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900",children:(0,n.jsx)("div",{className:"absolute inset-0 opacity-25",style:{backgroundImage:"url(/login-bg.svg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})}),(0,n.jsxs)("div",{className:"relative z-10 max-w-2xl",children:[(0,n.jsx)("div",{className:"mb-12",children:(0,n.jsxs)("h1",{className:"text-6xl font-bold text-white leading-tight",style:{fontFamily:'"Space Grotesk", sans-serif'},children:[(0,n.jsx)("div",{children:"Empower Your"}),(0,n.jsx)("div",{className:"text-yellow-300",children:"Spiritual Journey"})]})}),(0,n.jsx)("div",{className:"mb-16",children:(0,n.jsxs)("p",{className:"text-xl leading-relaxed max-w-lg text-white",children:["Our streamlined church management system makes it easy for you to",(0,n.jsx)("span",{className:"text-yellow-300 font-semibold",children:" connect with your church family"}),",",(0,n.jsx)("span",{className:"text-blue-200",children:" track your spiritual growth"}),", and stay engaged with",(0,n.jsx)("span",{className:"text-yellow-400 font-semibold",children:" Emmanuel Assembly activities"}),". Let's get started on your digital church experience."]})})]})]}),(0,n.jsx)("div",{className:"w-full lg:w-2/5 flex flex-col justify-center px-8 py-12 bg-white",children:(0,n.jsxs)("div",{className:"w-full max-w-md mx-auto",children:[(0,n.jsxs)("div",{className:"flex items-center mb-16",children:[(0,n.jsx)("div",{className:"flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl shadow-lg mr-4",children:(0,n.jsx)(o.Z,{className:"h-8 w-8 text-white"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-bold text-gray-900",style:{fontFamily:'"Space Grotesk", sans-serif'},children:"Emmanuel Assembly"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Church Management System"})]})]}),(0,n.jsx)("div",{className:"mb-4",children:(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Enter your phone number or membership ID"})}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:(0,n.jsx)(c.Z,{className:"h-4 w-4 text-gray-400"})}),(0,n.jsx)(a.I,{id:"phone-or-id",type:"text",placeholder:"Enter your phone number or EA-XXXX-YYYY",value:e,onChange:e=>t(e.target.value),className:"pl-12 h-14 text-base border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",disabled:r,autoComplete:"username"})]})}),(0,n.jsx)("div",{className:"mb-8",children:(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center mr-3",children:(0,n.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})}),(0,n.jsx)("span",{className:"text-white text-sm font-medium",children:"Secure Login"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("span",{className:"text-gray-400 text-xs",children:"Privacy"}),(0,n.jsx)("span",{className:"text-gray-400 text-xs",children:"Terms"})]})]})}),(0,n.jsx)(l.z,{type:"button",onClick:g,className:"w-full h-14 text-lg font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all duration-300 shadow-lg hover:shadow-xl",disabled:r||!e.trim(),children:r?(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mr-3"}),"Signing In..."]}):"CONTINUE"}),(0,n.jsx)("div",{className:"mt-8 text-center",children:(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Need help? Contact your church administrator"})})]})})]})}},5754:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(7437),s=r(2265),i=r(7256),l=r(6061),a=r(1657);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:c=!1,...u}=e,d=c?i.g7:"button";return(0,n.jsx)(d,{className:(0,a.cn)(o({variant:s,size:l,className:r})),ref:t,...u})});c.displayName="Button"},5179:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var n=r(7437),s=r(2265),i=r(1657);let l=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,n.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},5083:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var n=r(2265);let s=0,i=new Map,l=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},a=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?l(r):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function u(e){c=a(c,e),o.forEach(e=>{e(c)})}function d(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>u({type:"DISMISS_TOAST",toastId:r});return u({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||n()}}}),{id:r,dismiss:n,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=n.useState(c);return n.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},8346:function(e,t,r){"use strict";r.d(t,{b_:function(){return i},i:function(){return s},oV:function(){return l}});let n="emmanuel_assembly_test_user";function s(e){localStorage.setItem(n,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("testUserChanged",{detail:e}))}function i(){try{let e=localStorage.getItem(n);return e?JSON.parse(e):null}catch(e){return null}}function l(){localStorage.removeItem(n),window.dispatchEvent(new CustomEvent("testUserChanged",{detail:null}))}},1657:function(e,t,r){"use strict";r.d(t,{Fw:function(){return c},cn:function(){return i},o0:function(){return a},p6:function(){return l},tC:function(){return u},un:function(){return o}});var n=r(7042),s=r(4769);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}function l(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function a(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function o(e){let t=e.replace(/\D/g,"");return t.startsWith("233")?"+".concat(t.slice(0,3)," ").concat(t.slice(3,6)," ").concat(t.slice(6,9)," ").concat(t.slice(9)):t.startsWith("0")?"+233 ".concat(t.slice(1,4)," ").concat(t.slice(4,7)," ").concat(t.slice(7)):e}function c(e){let t=new Date,r=new Date(e),n=t.getFullYear()-r.getFullYear(),s=t.getMonth()-r.getMonth();return(s<0||0===s&&t.getDate()<r.getDate())&&n--,n}function u(e){if(!e)return"";let t=function(e){if(!e)return"";let t=e.replace(/[^A-Za-z0-9-]/g,"").toUpperCase();if(/^EA-\d{4}-\d{4}$/.test(t))return t;if(/^\d{8}$/.test(t))return"EA-".concat(t.slice(0,4),"-").concat(t.slice(4));if(t.startsWith("EA")){let e=t.replace(/[^0-9]/g,"");if(8===e.length)return"EA-".concat(e.slice(0,4),"-").concat(e.slice(4))}return t}(e);return/^EA-\d{4}-\d{4}$/.test(t)?t:e}},4033:function(e,t,r){e.exports=r(5313)},2210:function(e,t,r){"use strict";r.d(t,{F:function(){return i},e:function(){return l}});var n=r(2265);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let r=!1,n=e.map(e=>{let n=s(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():s(e[t],null)}}}}function l(...e){return n.useCallback(i(...e),e)}},7256:function(e,t,r){"use strict";r.d(t,{Z8:function(){return l},g7:function(){return a}});var n=r(2265),s=r(2210),i=r(7437);function l(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){let e,l;let a=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,o=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(o.ref=t?(0,s.F)(t,a):a),n.cloneElement(r,o)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:s,...l}=e,a=n.Children.toArray(s),o=a.find(c);if(o){let e=o.props.children,s=a.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...l,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return(0,i.jsx)(t,{...l,ref:r,children:s})});return r.displayName=`${e}.Slot`,r}var a=l("Slot"),o=Symbol("radix.slottable");function c(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},6061:function(e,t,r){"use strict";r.d(t,{j:function(){return l}});var n=r(7042);let s=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=n.W,l=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:a}=t,o=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],n=null==a?void 0:a[e];if(null===t)return null;let i=s(t)||s(n);return l[e][i]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return i(e,o,null==t?void 0:null===(n=t.compoundVariants)||void 0===n?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...c}[t]):({...a,...c})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[895,971,938,744],function(){return e(e.s=400)}),_N_E=e.O()}]);