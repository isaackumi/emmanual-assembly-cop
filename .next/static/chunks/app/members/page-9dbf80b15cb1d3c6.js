(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[607],{5132:function(e,s,t){Promise.resolve().then(t.bind(t,8089))},8089:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return F}});var r=t(7437),n=t(2265),a=t(4033),l=t(9477),i=t(5083),c=t(7815),o=t(5754),d=t(5179),u=t(1478),m=t(7094),h=t(1657);let x=m.fC,f=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)(m.aV,{ref:s,className:(0,h.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...n})});f.displayName=m.aV.displayName;let g=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)(m.xz,{ref:s,className:(0,h.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...n})});g.displayName=m.xz.displayName;let p=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)(m.VY,{ref:s,className:(0,h.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...n})});p.displayName=m.VY.displayName;var v=t(3067),b=t(2882),j=t(5817),N=t(9883),y=t(5750),w=t(2527),S=t(6643),C=t(7810),_=t(1827),A=t(9670),k=t(8253),Z=t(6141),E=t(5790),M=t(2457),I=t(6020),T=t(4599);function F(){let{user:e,loading:s}=(0,l.useAuth)(),{toast:t}=(0,i.pm)(),m=(0,a.useRouter)(),F=(0,T.e)(),[Y,D]=(0,n.useState)([]),[O,z]=(0,n.useState)(!0),[R,V]=(0,n.useState)(""),[U,L]=(0,n.useState)("all"),[W,G]=(0,n.useState)("all"),[P,J]=(0,n.useState)("name"),[B,Q]=(0,n.useState)("asc"),[X,q]=(0,n.useState)([]),[K,H]=(0,n.useState)([]),[$,ee]=(0,n.useState)(!1),[es,et]=(0,n.useState)({group:"",message:""}),[er,en]=(0,n.useState)(!1);(0,n.useEffect)(()=>{s||e||m.push("/auth")},[e,s,m]),(0,n.useEffect)(()=>{e&&(ea(),el())},[e]);let ea=async()=>{try{z(!0),console.log("Fetching members...");let{data:e,error:s}=await F.from("members").select("\n          *,\n          user:app_users(full_name, membership_id, phone, email, role, created_at)\n        ").eq("is_active",!0).order("created_at",{ascending:!1});if(s)throw console.error("Error fetching members:",s),s;console.log("Members fetched:",e),D(e||[])}catch(e){console.error("Error fetching members:",e)}finally{z(!1)}},el=async()=>{if(e)try{let e=new Date,s=new Date(e.getTime()+2592e6),{data:t,error:r}=await F.from("members").select("\n          *,\n          user:app_users(full_name, membership_id, phone, email, role, created_at)\n        ").eq("is_active",!0).not("dob","is",null);if(!r&&t){let r=t.filter(t=>{if(!t.dob)return!1;let r=new Date(t.dob),n=new Date(e.getFullYear(),r.getMonth(),r.getDate());return n<e&&n.setFullYear(e.getFullYear()+1),n>=e&&n<=s}),n=t.filter(t=>{let r=new Date(t.created_at),n=new Date(e.getFullYear(),r.getMonth(),r.getDate());return n<e&&n.setFullYear(e.getFullYear()+1),n>=e&&n<=s});q(r),H(n)}}catch(e){console.error("Error fetching upcoming events:",e)}},ei=e=>{if(!e.dob)return"Unknown";let s=(0,h.Fw)(e.dob);return s<=17?"Children":s<=35?"Youth":"male"===e.gender?"Men Fellowship":"Women Fellowship"},ec=[...Y.filter(e=>{var s,t,r,n,a,l;let i=(null===(t=e.user)||void 0===t?void 0:null===(s=t.full_name)||void 0===s?void 0:s.toLowerCase().includes(R.toLowerCase()))||(null===(n=e.user)||void 0===n?void 0:null===(r=n.membership_id)||void 0===r?void 0:r.toLowerCase().includes(R.toLowerCase()))||(null===(l=e.user)||void 0===l?void 0:null===(a=l.phone)||void 0===a?void 0:a.includes(R)),c="all"===U||e.status===U,o="all"===W||ei(e)===W;return i&&c&&o})].sort((e,s)=>{var t,r,n,a;let l,i;switch(P){case"name":l=(null===(t=e.user)||void 0===t?void 0:t.full_name)||"",i=(null===(r=s.user)||void 0===r?void 0:r.full_name)||"";break;case"join_date":l=new Date(e.created_at).getTime(),i=new Date(s.created_at).getTime();break;case"status":l=e.status||"",i=s.status||"";break;default:l=(null===(n=e.user)||void 0===n?void 0:n.full_name)||"",i=(null===(a=s.user)||void 0===a?void 0:a.full_name)||""}return"asc"===B?l>i?1:-1:l<i?1:-1}),eo=async()=>{if(!es.group||!es.message.trim()){t({title:"Error",description:"Please select a group and enter a message",variant:"destructive"});return}try{en(!0);let e=Y.filter(e=>ei(e)===es.group);t({title:"SMS Sent!",description:"Message sent to ".concat(e.length," members in ").concat(es.group)}),ee(!1),et({group:"",message:""})}catch(e){t({title:"Error",description:"Failed to send SMS. Please try again.",variant:"destructive"})}finally{en(!1)}},ed=e=>Y.filter(s=>ei(s)===e).length;return O?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading members..."})]})}):e?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex items-center mb-2",children:(0,r.jsxs)(o.z,{variant:"ghost",size:"sm",onClick:()=>m.push("/dashboard"),className:"mr-3 text-gray-600 hover:text-gray-900",children:[(0,r.jsx)(v.Z,{className:"h-4 w-4 mr-1"}),"Back to Dashboard"]})}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",style:{fontFamily:'"Space Grotesk", sans-serif'},children:"Membership Management"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Manage church members, groups, and communications"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)(o.z,{variant:"outline",onClick:()=>ee(!0),className:"flex items-center",children:[(0,r.jsx)(b.Z,{className:"h-4 w-4 mr-2"}),"Send SMS"]}),(0,r.jsxs)(o.z,{variant:"outline",className:"flex items-center",children:[(0,r.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,r.jsxs)(o.z,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>m.push("/members/add"),children:[(0,r.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"Add Member"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,r.jsx)(c.Zb,{className:"bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:(0,r.jsx)(c.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-blue-100 text-sm font-medium",children:"Total Members"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:Y.length})]}),(0,r.jsx)(y.Z,{className:"h-8 w-8 text-blue-200"})]})})}),(0,r.jsx)(c.Zb,{className:"bg-gradient-to-br from-green-500 to-green-600 text-white",children:(0,r.jsx)(c.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-green-100 text-sm font-medium",children:"Active Members"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:Y.filter(e=>"active"===e.status).length})]}),(0,r.jsx)(w.Z,{className:"h-8 w-8 text-green-200"})]})})}),(0,r.jsx)(c.Zb,{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 text-white",children:(0,r.jsx)(c.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-yellow-100 text-sm font-medium",children:"Upcoming Birthdays"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:X.length})]}),(0,r.jsx)(S.Z,{className:"h-8 w-8 text-yellow-200"})]})})}),(0,r.jsx)(c.Zb,{className:"bg-gradient-to-br from-purple-500 to-purple-600 text-white",children:(0,r.jsx)(c.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-purple-100 text-sm font-medium",children:"Anniversaries"}),(0,r.jsx)("p",{className:"text-3xl font-bold",children:K.length})]}),(0,r.jsx)(C.Z,{className:"h-8 w-8 text-purple-200"})]})})})]}),(0,r.jsxs)(x,{defaultValue:"members",className:"space-y-6",children:[(0,r.jsxs)(f,{className:"grid w-full grid-cols-4",children:[(0,r.jsx)(g,{value:"members",children:"Members"}),(0,r.jsx)(g,{value:"groups",children:"Groups"}),(0,r.jsx)(g,{value:"attendance",children:"Attendance"}),(0,r.jsx)(g,{value:"analytics",children:"Analytics"})]}),(0,r.jsxs)(p,{value:"members",className:"space-y-6",children:[(0,r.jsx)(c.Zb,{children:(0,r.jsx)(c.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(_.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,r.jsx)(d.I,{placeholder:"Search members...",value:R,onChange:e=>V(e.target.value),className:"pl-10"})]}),(0,r.jsxs)("select",{value:U,onChange:e=>L(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"All Status"}),(0,r.jsx)("option",{value:"active",children:"Active"}),(0,r.jsx)("option",{value:"inactive",children:"Inactive"}),(0,r.jsx)("option",{value:"pending",children:"Pending"})]}),(0,r.jsxs)("select",{value:W,onChange:e=>G(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"All Groups"}),(0,r.jsx)("option",{value:"Children",children:"Children"}),(0,r.jsx)("option",{value:"Youth",children:"Youth"}),(0,r.jsx)("option",{value:"Men Fellowship",children:"Men Fellowship"}),(0,r.jsx)("option",{value:"Women Fellowship",children:"Women Fellowship"})]}),(0,r.jsxs)("select",{value:"".concat(P,"-").concat(B),onChange:e=>{let[s,t]=e.target.value.split("-");J(s),Q(t)},className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"name-asc",children:"Name A-Z"}),(0,r.jsx)("option",{value:"name-desc",children:"Name Z-A"}),(0,r.jsx)("option",{value:"join_date-desc",children:"Newest First"}),(0,r.jsx)("option",{value:"join_date-asc",children:"Oldest First"}),(0,r.jsx)("option",{value:"status-asc",children:"Status A-Z"})]})]})})}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(c.Ol,{children:(0,r.jsxs)(c.ll,{children:["Members (",ec.length,")"]})}),(0,r.jsx)(c.aY,{children:(0,r.jsx)("div",{className:"space-y-4",children:ec.map(e=>{var s,t,n,a;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-semibold",children:(null===(t=e.user)||void 0===t?void 0:null===(s=t.full_name)||void 0===s?void 0:s.charAt(0))||"?"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:(null===(n=e.user)||void 0===n?void 0:n.full_name)||"Unknown"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,r.jsx)("span",{children:null===(a=e.user)||void 0===a?void 0:a.membership_id}),(0,r.jsx)("span",{className:"capitalize",children:ei(e)}),(0,r.jsx)("span",{className:"capitalize",children:e.status}),e.dob&&(0,r.jsxs)("span",{children:["Age ",(0,h.Fw)(e.dob)]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(u.C,{variant:"active"===e.status?"default":"secondary",children:e.status}),(0,r.jsx)(o.z,{variant:"ghost",size:"sm",onClick:()=>m.push("/members/".concat(e.id)),children:(0,r.jsx)(A.Z,{className:"h-4 w-4"})})]})]},e.id)})})})]})]}),(0,r.jsx)(p,{value:"groups",className:"space-y-6",children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:["Children","Youth","Men Fellowship","Women Fellowship"].map(e=>(0,r.jsx)(c.Zb,{className:"hover:shadow-lg transition-shadow cursor-pointer",children:(0,r.jsxs)(c.aY,{className:"p-6 text-center",children:[(0,r.jsx)(k.Z,{className:"h-12 w-12 mx-auto mb-4 text-blue-600"}),(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e}),(0,r.jsx)("p",{className:"text-3xl font-bold text-blue-600 mb-2",children:ed(e)}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:"Members"}),(0,r.jsx)(o.z,{className:"mt-4 w-full",variant:"outline",onClick:()=>{G(e);let s=document.querySelector('[value="members"]');s&&s.click()},children:"View Members"})]})},e))})}),(0,r.jsx)(p,{value:"attendance",className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsx)(c.ll,{children:"Quick Attendance"}),(0,r.jsx)(c.SZ,{children:"Mark attendance for today's service"})]}),(0,r.jsxs)(c.aY,{className:"space-y-4",children:[(0,r.jsxs)(o.z,{className:"w-full",onClick:()=>m.push("/attendance/kiosk"),children:[(0,r.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Kiosk Mode"]}),(0,r.jsxs)(o.z,{className:"w-full",variant:"outline",onClick:()=>m.push("/attendance/scanner"),children:[(0,r.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"QR Scanner"]})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsx)(c.ll,{children:"Attendance Stats"}),(0,r.jsx)(c.SZ,{children:"Recent attendance trends"})]}),(0,r.jsx)(c.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Today's Service"}),(0,r.jsx)("span",{className:"font-semibold",children:"--"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"This Week"}),(0,r.jsx)("span",{className:"font-semibold",children:"--"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"This Month"}),(0,r.jsx)("span",{className:"font-semibold",children:"--"})]})]})})]})]})}),(0,r.jsx)(p,{value:"analytics",className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(c.Ol,{children:(0,r.jsx)(c.ll,{children:"Growth Trends"})}),(0,r.jsx)(c.aY,{children:(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(E.Z,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Growth analytics coming soon"})]})})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(c.Ol,{children:(0,r.jsx)(c.ll,{children:"Engagement"})}),(0,r.jsx)(c.aY,{children:(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(M.Z,{className:"h-12 w-12 mx-auto mb-4 text-blue-500"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Engagement metrics coming soon"})]})})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(c.Ol,{children:(0,r.jsx)(c.ll,{children:"Demographics"})}),(0,r.jsx)(c.aY,{children:(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(y.Z,{className:"h-12 w-12 mx-auto mb-4 text-purple-500"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Demographic insights coming soon"})]})})]})]})})]}),$&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)(c.Zb,{className:"w-full max-w-md mx-4",children:[(0,r.jsxs)(c.Ol,{children:[(0,r.jsx)(c.ll,{children:"Send SMS to Group"}),(0,r.jsx)(c.SZ,{children:"Send a message to all members in a specific group"})]}),(0,r.jsxs)(c.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Group"}),(0,r.jsxs)("select",{value:es.group,onChange:e=>et({...es,group:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Choose a group"}),["Children","Youth","Men Fellowship","Women Fellowship"].map(e=>(0,r.jsxs)("option",{value:e,children:[e," (",ed(e)," members)"]},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),(0,r.jsx)("textarea",{value:es.message,onChange:e=>et({...es,message:e.target.value}),placeholder:"Type your message here...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Characters: ",es.message.length,"/160"]})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)(o.z,{variant:"outline",onClick:()=>ee(!1),className:"flex-1",children:"Cancel"}),(0,r.jsx)(o.z,{onClick:eo,disabled:er||!es.group||!es.message.trim(),className:"flex-1",children:er?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Send SMS"]})})]})]})]})})]})}):null}},9477:function(e,s,t){"use strict";t.r(s),t.d(s,{Providers:function(){return o},useAuth:function(){return c}});var r=t(7437),n=t(2265),a=t(8346);let l=(0,n.createContext)(void 0);function i(e){let{children:s}=e,[t,i]=(0,n.useState)(null),[c,o]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=()=>{let e=(0,a.b_)();e?(console.log("SimpleAuth: Found test user:",e),i(e)):(console.log("SimpleAuth: No test user found"),i(null)),o(!1)};e();let s=s=>{"emmanuel_assembly_test_user"===s.key&&(console.log("SimpleAuth: localStorage changed, checking user"),e())},t=e=>{console.log("SimpleAuth: testUserChanged event received:",e.detail),e.detail?i(e.detail):i(null)};return window.addEventListener("storage",s),window.addEventListener("testUserChanged",t),()=>{window.removeEventListener("storage",s),window.removeEventListener("testUserChanged",t)}},[]),(0,r.jsx)(l.Provider,{value:{user:t,loading:c,signOut:()=>{(0,a.oV)(),i(null),window.location.href="/auth"}},children:s})}function c(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within a SimpleAuthProvider");return e}function o(e){let{children:s}=e;return(0,r.jsx)(i,{children:s})}},1478:function(e,s,t){"use strict";t.d(s,{C:function(){return i}});var r=t(7437);t(2265);var n=t(6061),a=t(1657);let l=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...n}=e;return(0,r.jsx)("div",{className:(0,a.cn)(l({variant:t}),s),...n})}},5754:function(e,s,t){"use strict";t.d(s,{z:function(){return o}});var r=t(7437),n=t(2265),a=t(7256),l=t(6061),i=t(1657);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,s)=>{let{className:t,variant:n,size:l,asChild:o=!1,...d}=e,u=o?a.g7:"button";return(0,r.jsx)(u,{className:(0,i.cn)(c({variant:n,size:l,className:t})),ref:s,...d})});o.displayName="Button"},7815:function(e,s,t){"use strict";t.d(s,{Ol:function(){return i},SZ:function(){return o},Zb:function(){return l},aY:function(){return d},ll:function(){return c}});var r=t(7437),n=t(2265),a=t(1657);let l=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...n})});l.displayName="Card";let i=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",t),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",t),...n})});c.displayName="CardTitle";let o=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",t),...n})});o.displayName="CardDescription";let d=n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",t),...n})});d.displayName="CardContent",n.forwardRef((e,s)=>{let{className:t,...n}=e;return(0,r.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",t),...n})}).displayName="CardFooter"},5179:function(e,s,t){"use strict";t.d(s,{I:function(){return l}});var r=t(7437),n=t(2265),a=t(1657);let l=n.forwardRef((e,s)=>{let{className:t,type:n,...l}=e;return(0,r.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});l.displayName="Input"},5083:function(e,s,t){"use strict";t.d(s,{pm:function(){return m}});var r=t(2265);let n=0,a=new Map,l=e=>{if(a.has(e))return;let s=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,s)},i=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?l(t):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],o={toasts:[]};function d(e){o=i(o,e),c.forEach(e=>{e(o)})}function u(e){let{...s}=e,t=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,s]=r.useState(o);return r.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},8346:function(e,s,t){"use strict";t.d(s,{b_:function(){return a},i:function(){return n},oV:function(){return l}});let r="emmanuel_assembly_test_user";function n(e){localStorage.setItem(r,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("testUserChanged",{detail:e}))}function a(){try{let e=localStorage.getItem(r);return e?JSON.parse(e):null}catch(e){return null}}function l(){localStorage.removeItem(r),window.dispatchEvent(new CustomEvent("testUserChanged",{detail:null}))}},4599:function(e,s,t){"use strict";t.d(s,{e:function(){return n}});var r=t(2814);function n(){return(0,r.AY)("https://dsgewsnslfdylvieulsc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRzZ2V3c25zbGZkeWx2aWV1bHNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwNTc0NjksImV4cCI6MjA3NDYzMzQ2OX0.vCUQKVpsdzI9c_a4zfvKtHLPpLWRBlZxKkA5AiajnqE")}},1657:function(e,s,t){"use strict";t.d(s,{Fw:function(){return o},cn:function(){return a},o0:function(){return i},p6:function(){return l},tC:function(){return d},un:function(){return c}});var r=t(7042),n=t(4769);function a(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,n.m6)((0,r.W)(s))}function l(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function i(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function c(e){let s=e.replace(/\D/g,"");return s.startsWith("233")?"+".concat(s.slice(0,3)," ").concat(s.slice(3,6)," ").concat(s.slice(6,9)," ").concat(s.slice(9)):s.startsWith("0")?"+233 ".concat(s.slice(1,4)," ").concat(s.slice(4,7)," ").concat(s.slice(7)):e}function o(e){let s=new Date,t=new Date(e),r=s.getFullYear()-t.getFullYear(),n=s.getMonth()-t.getMonth();return(n<0||0===n&&s.getDate()<t.getDate())&&r--,r}function d(e){if(!e)return"";let s=function(e){if(!e)return"";let s=e.replace(/[^A-Za-z0-9-]/g,"").toUpperCase();if(/^EA-\d{4}-\d{4}$/.test(s))return s;if(/^\d{8}$/.test(s))return"EA-".concat(s.slice(0,4),"-").concat(s.slice(4));if(s.startsWith("EA")){let e=s.replace(/[^0-9]/g,"");if(8===e.length)return"EA-".concat(e.slice(0,4),"-").concat(e.slice(4))}return s}(e);return/^EA-\d{4}-\d{4}$/.test(s)?s:e}}},function(e){e.O(0,[895,833,295,112,971,938,744],function(){return e(e.s=5132)}),_N_E=e.O()}]);