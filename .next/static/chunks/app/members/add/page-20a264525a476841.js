(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{9057:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},3008:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},7810:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},7972:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6776:function(e,t,s){Promise.resolve().then(s.bind(s,9355))},9355:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return ee}});var r=s(7437),a=s(2265),n=s(4033),i=s(9477),l=s(7815),o=s(5754),d=s(5179),c=s(9842),m=s(5509),u=s(3444),h=s(2210),p=s(6989),x=s(5744),f=s(3763),g=s(5184),_=s(4977),v=s(5606),y=s(9381),j="Checkbox",[b,N]=(0,p.b)(j),[k,w]=b(j);function C(e){let{__scopeCheckbox:t,checked:s,children:n,defaultChecked:i,disabled:l,form:o,name:d,onCheckedChange:c,required:m,value:u="on",internal_do_not_use_render:h}=e,[p,x]=(0,f.T)({prop:s,defaultProp:i??!1,onChange:c,caller:j}),[g,_]=a.useState(null),[v,y]=a.useState(null),b=a.useRef(!1),N=!g||!!o||!!g.closest("form"),w={checked:p,disabled:l,setChecked:x,control:g,setControl:_,name:d,form:o,value:u,hasConsumerStoppedPropagationRef:b,required:m,defaultChecked:!R(i)&&i,isFormControl:N,bubbleInput:v,setBubbleInput:y};return(0,r.jsx)(k,{scope:t,...w,children:"function"==typeof h?h(w):n})}var I="CheckboxTrigger",F=a.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...n},i)=>{let{control:l,value:o,disabled:d,checked:c,required:m,setControl:u,setChecked:p,hasConsumerStoppedPropagationRef:f,isFormControl:g,bubbleInput:_}=w(I,e),v=(0,h.e)(i,u),j=a.useRef(c);return a.useEffect(()=>{let e=l?.form;if(e){let t=()=>p(j.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[l,p]),(0,r.jsx)(y.WV.button,{type:"button",role:"checkbox","aria-checked":R(c)?"mixed":c,"aria-required":m,"data-state":Z(c),"data-disabled":d?"":void 0,disabled:d,value:o,...n,ref:v,onKeyDown:(0,x.Mj)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,x.Mj)(s,e=>{p(e=>!!R(e)||!e),_&&g&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});F.displayName=I;var E=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:l,disabled:o,value:d,onCheckedChange:c,form:m,...u}=e;return(0,r.jsx)(C,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:o,required:l,onCheckedChange:c,name:a,form:m,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F,{...u,ref:t,__scopeCheckbox:s}),e&&(0,r.jsx)(O,{__scopeCheckbox:s})]})})});E.displayName=j;var S="CheckboxIndicator",M=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:a,...n}=e,i=w(S,s);return(0,r.jsx)(v.z,{present:a||R(i.checked)||!0===i.checked,children:(0,r.jsx)(y.WV.span,{"data-state":Z(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});M.displayName=S;var P="CheckboxBubbleInput",O=a.forwardRef(({__scopeCheckbox:e,...t},s)=>{let{control:n,hasConsumerStoppedPropagationRef:i,checked:l,defaultChecked:o,required:d,disabled:c,name:m,value:u,form:p,bubbleInput:x,setBubbleInput:f}=w(P,e),v=(0,h.e)(s,f),j=(0,g.D)(l),b=(0,_.t)(n);a.useEffect(()=>{if(!x)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!i.current;if(j!==l&&e){let s=new Event("click",{bubbles:t});x.indeterminate=R(l),e.call(x,!R(l)&&l),x.dispatchEvent(s)}},[x,j,l,i]);let N=a.useRef(!R(l)&&l);return(0,r.jsx)(y.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:d,disabled:c,name:m,value:u,form:p,...t,tabIndex:-1,ref:v,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function R(e){return"indeterminate"===e}function Z(e){return R(e)?"indeterminate":e?"checked":"unchecked"}O.displayName=P;var D=s(2442),T=s(1657);let A=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(E,{ref:t,className:(0,T.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...a,children:(0,r.jsx)(M,{className:(0,T.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(D.Z,{className:"h-4 w-4"})})})});A.displayName=E.displayName;var z=s(5083),L=s(4599),B=s(3067),V=s(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let Q=(0,V.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var U=s(3008),q=s(7972),W=s(2741),H=s(9057),Y=s(7810),G=s(8203),J=s(6637),K=s(4527);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let $=(0,V.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),X=[{key:"personal",title:"Personal Information",description:"Basic personal details"},{key:"contact",title:"Contact Information",description:"Phone numbers and addresses"},{key:"professional",title:"Professional Details",description:"Occupation and work information"},{key:"family",title:"Family Information",description:"Marital status and family details"},{key:"spiritual",title:"Spiritual Background",description:"Baptism and church history"},{key:"additional",title:"Additional Information",description:"Skills, interests, and notes"}];function ee(){var e,t;let{user:s,loading:h}=(0,i.useAuth)(),p=(0,n.useRouter)(),{toast:x}=(0,z.pm)(),f=(0,L.e)(),[g,_]=(0,a.useState)("personal"),[v,y]=(0,a.useState)({first_name:"",middle_name:"",last_name:"",phone:"",secondary_phone:"",email:"",role:"member",occupation:"",place_of_work:"",marital_status:"single",spouse_name:"",children_count:0,address:"",emergency_contact_name:"",emergency_contact_phone:"",emergency_contact_relation:"",dob:"",gender:"male",date_of_baptism:"",holy_ghost_baptism:!1,date_of_holy_ghost_baptism:"",previous_church:"",reason_for_leaving:"",special_skills:[],interests:[],notes:"",join_year:new Date().getFullYear(),membership_id:"",is_visitor:!1}),[j,b]=(0,a.useState)(!1),[N,k]=(0,a.useState)(!1),[w,C]=(0,a.useState)("");(0,a.useEffect)(()=>{h||s||p.push("/auth")},[s,h,p]),(0,a.useEffect)(()=>{if(v.phone&&v.dob){let e=v.join_year||new Date().getFullYear();C(function(e,t){let s;let r=t||new Date().getFullYear();return s=e&&e.length>=4?e.replace(/\D/g,"").slice(-4):Math.floor(1e4*Math.random()).toString().padStart(4,"0"),"EA-".concat(s,"-").concat(r)}(v.phone,e))}else C("")},[v.phone,v.dob,v.join_year]);let I=(e,t)=>{y(s=>({...s,[e]:t}))},F=(e,t)=>{let s=v[e]||[];t.trim()&&!s.includes(t.trim())&&y(r=>({...r,[e]:[...s,t.trim()]}))},E=(e,t)=>{let s=v[e]||[];y(r=>({...r,[e]:s.filter(e=>e!==t)}))},S=async()=>{k(!0);try{localStorage.setItem("member_onboarding_progress",JSON.stringify(v)),x({title:"Progress Saved",description:"Your progress has been saved. You can continue later."})}catch(e){x({title:"Error",description:"Failed to save progress.",variant:"destructive"})}finally{k(!1)}},M=async()=>{b(!0);try{let{data:e,error:t}=await f.from("app_users").insert({first_name:v.first_name,middle_name:v.middle_name,last_name:v.last_name,full_name:"".concat(v.first_name," ").concat(v.middle_name?v.middle_name+" ":"").concat(v.last_name).trim(),phone:v.phone,secondary_phone:v.secondary_phone,email:v.email,role:v.role,membership_id:w,join_year:v.join_year,occupation:v.occupation,place_of_work:v.place_of_work,marital_status:v.marital_status,spouse_name:v.spouse_name,children_count:v.children_count,emergency_contact_name:v.emergency_contact_name,emergency_contact_phone:v.emergency_contact_phone,emergency_contact_relation:v.emergency_contact_relation}).select().single();if(t)throw t;let{error:s}=await f.from("members").insert({user_id:e.id,dob:v.dob,gender:v.gender,address:v.address,date_of_baptism:v.date_of_baptism,holy_ghost_baptism:v.holy_ghost_baptism,date_of_holy_ghost_baptism:v.date_of_holy_ghost_baptism,previous_church:v.previous_church,reason_for_leaving:v.reason_for_leaving,special_skills:v.special_skills,interests:v.interests,notes:v.notes,is_visitor:v.is_visitor,status:v.is_visitor?"visitor":"active",emergency_contacts:[{name:v.emergency_contact_name,relation:v.emergency_contact_relation,phone:v.emergency_contact_phone}],documents:[]});if(s)throw s;localStorage.removeItem("member_onboarding_progress"),x({title:"Success",description:"".concat(v.first_name," ").concat(v.last_name," has been added as a new ").concat(v.is_visitor?"visitor":"member","!")}),p.push("/members")}catch(e){console.error("Error adding member:",e),x({title:"Error",description:e.message||"Failed to add member. Please try again.",variant:"destructive"})}finally{b(!1)}},P=e=>{switch(e){case"personal":return!!(v.first_name&&v.last_name&&v.dob&&v.gender);case"contact":return!!(v.phone&&v.address);case"professional":case"spiritual":case"additional":return!0;case"family":return!!v.marital_status;default:return!1}},O=P(g),R=g===X[X.length-1].key;return h||j?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-8 flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-pulse text-blue-600 text-lg",children:"Loading..."})}):s?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(o.z,{variant:"ghost",size:"sm",onClick:()=>p.push("/members"),className:"mr-3 text-gray-600 hover:text-gray-900",children:[(0,r.jsx)(B.Z,{className:"h-4 w-4 mr-1"}),"Back to Members"]}),(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",style:{fontFamily:'"Space Grotesk", sans-serif'},children:"Add New Member"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(o.z,{variant:"outline",onClick:()=>{try{let e=localStorage.getItem("member_onboarding_progress");if(e){let t=JSON.parse(e);y(e=>({...e,...t})),x({title:"Progress Loaded",description:"Your saved progress has been loaded."})}}catch(e){console.error("Error loading progress:",e)}},disabled:N,children:[(0,r.jsx)(Q,{className:"h-4 w-4 mr-2"}),"Load Progress"]}),(0,r.jsxs)(o.z,{variant:"outline",onClick:S,disabled:N,children:[(0,r.jsx)(Q,{className:"h-4 w-4 mr-2"}),N?"Saving...":"Save Progress"]})]})]}),(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,r.jsx)("div",{className:"flex items-center justify-between",children:X.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"relative flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300 ".concat(g===e.key?"border-blue-600 bg-blue-600 text-white shadow-lg scale-110":P(e.key)?"border-green-600 bg-green-600 text-white shadow-md":"border-gray-300 bg-white text-gray-400 hover:border-gray-400"),children:[P(e.key)&&g!==e.key?(0,r.jsx)(U.Z,{className:"h-6 w-6"}):(0,r.jsx)("span",{className:"text-sm font-bold",children:t+1}),g===e.key&&(0,r.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 rounded-full border-2 border-white animate-pulse"})]}),(0,r.jsx)("div",{className:"mt-2 text-center max-w-24",children:(0,r.jsx)("p",{className:"text-xs font-medium transition-colors ".concat(g===e.key?"text-blue-600":P(e.key)?"text-green-600":"text-gray-500"),children:e.title})})]}),t<X.length-1&&(0,r.jsx)("div",{className:"flex-1 h-1 mx-6 rounded-full transition-colors duration-300 ".concat(P(X[t+1].key)?"bg-green-600":g===X[t+1].key?"bg-blue-200":"bg-gray-200"),children:(0,r.jsx)("div",{className:"h-full rounded-full transition-all duration-500 ".concat(P(X[t+1].key)?"w-full bg-green-600":g===X[t+1].key?"w-1/2 bg-blue-400":"w-0")})})]},e.key))}),(0,r.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Complete all steps to finish onboarding"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-lg font-bold text-blue-600",children:[Math.round((X.findIndex(e=>e.key===g)+1)/X.length*100),"%"]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Step ",X.findIndex(e=>e.key===g)+1," of ",X.length]})]})]})})]})}),(0,r.jsxs)(l.Zb,{children:[(0,r.jsxs)(l.Ol,{children:[(0,r.jsxs)(l.ll,{className:"text-2xl font-bold flex items-center",children:["personal"===g&&(0,r.jsx)(q.Z,{className:"h-6 w-6 mr-2"}),"contact"===g&&(0,r.jsx)(W.Z,{className:"h-6 w-6 mr-2"}),"professional"===g&&(0,r.jsx)(H.Z,{className:"h-6 w-6 mr-2"}),"family"===g&&(0,r.jsx)(Y.Z,{className:"h-6 w-6 mr-2"}),"spiritual"===g&&(0,r.jsx)(G.Z,{className:"h-6 w-6 mr-2"}),"additional"===g&&(0,r.jsx)(J.Z,{className:"h-6 w-6 mr-2"}),null===(e=X.find(e=>e.key===g))||void 0===e?void 0:e.title]}),(0,r.jsx)("p",{className:"text-gray-600",children:null===(t=X.find(e=>e.key===g))||void 0===t?void 0:t.description})]}),(0,r.jsxs)(l.aY,{children:[(()=>{switch(g){case"personal":return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"first_name",children:"First Name *"}),(0,r.jsx)(d.I,{id:"first_name",value:v.first_name,onChange:e=>I("first_name",e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"middle_name",children:"Middle Name"}),(0,r.jsx)(d.I,{id:"middle_name",value:v.middle_name,onChange:e=>I("middle_name",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"last_name",children:"Last Name *"}),(0,r.jsx)(d.I,{id:"last_name",value:v.last_name,onChange:e=>I("last_name",e.target.value),required:!0})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"dob",children:"Date of Birth *"}),(0,r.jsx)(d.I,{id:"dob",type:"date",value:v.dob,onChange:e=>I("dob",e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"gender",children:"Gender *"}),(0,r.jsxs)(m.Ph,{onValueChange:e=>I("gender",e),value:v.gender,required:!0,children:[(0,r.jsx)(m.i4,{id:"gender",children:(0,r.jsx)(m.ki,{placeholder:"Select gender"})}),(0,r.jsxs)(m.Bw,{children:[(0,r.jsx)(m.Ql,{value:"male",children:"Male"}),(0,r.jsx)(m.Ql,{value:"female",children:"Female"}),(0,r.jsx)(m.Ql,{value:"other",children:"Other"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"membershipId",children:"Generated Membership ID"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.I,{id:"membershipId",value:w,readOnly:!0,className:"bg-gray-50 font-mono text-blue-600 font-semibold"}),w&&(0,r.jsx)(o.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(w),x({title:"Copied!",description:"Membership ID copied to clipboard"})},className:"px-3",children:(0,r.jsx)("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),w&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\uD83D\uDCA1 This ID is auto-generated and can be copied for records"})]})]});case"contact":return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"phone",children:"Primary Phone *"}),(0,r.jsx)(d.I,{id:"phone",type:"tel",value:v.phone,onChange:e=>I("phone",e.target.value),required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"secondary_phone",children:"Secondary Phone"}),(0,r.jsx)(d.I,{id:"secondary_phone",type:"tel",value:v.secondary_phone,onChange:e=>I("secondary_phone",e.target.value)})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"email",children:"Email Address"}),(0,r.jsx)(d.I,{id:"email",type:"email",value:v.email,onChange:e=>I("email",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"address",children:"Residential Address *"}),(0,r.jsx)(u.g,{id:"address",value:v.address,onChange:e=>I("address",e.target.value),rows:3,required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"emergency_contact_name",children:"Emergency Contact Name"}),(0,r.jsx)(d.I,{id:"emergency_contact_name",value:v.emergency_contact_name,onChange:e=>I("emergency_contact_name",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"emergency_contact_relation",children:"Relationship"}),(0,r.jsx)(d.I,{id:"emergency_contact_relation",value:v.emergency_contact_relation,onChange:e=>I("emergency_contact_relation",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"emergency_contact_phone",children:"Emergency Contact Phone"}),(0,r.jsx)(d.I,{id:"emergency_contact_phone",type:"tel",value:v.emergency_contact_phone,onChange:e=>I("emergency_contact_phone",e.target.value)})]})]})]});case"professional":return(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"occupation",children:"Occupation"}),(0,r.jsx)(d.I,{id:"occupation",value:v.occupation,onChange:e=>I("occupation",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"place_of_work",children:"Place of Work"}),(0,r.jsx)(d.I,{id:"place_of_work",value:v.place_of_work,onChange:e=>I("place_of_work",e.target.value)})]})]})});case"family":return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"marital_status",children:"Marital Status *"}),(0,r.jsxs)(m.Ph,{onValueChange:e=>I("marital_status",e),value:v.marital_status,required:!0,children:[(0,r.jsx)(m.i4,{id:"marital_status",children:(0,r.jsx)(m.ki,{placeholder:"Select marital status"})}),(0,r.jsxs)(m.Bw,{children:[(0,r.jsx)(m.Ql,{value:"single",children:"Single"}),(0,r.jsx)(m.Ql,{value:"married",children:"Married"}),(0,r.jsx)(m.Ql,{value:"divorced",children:"Divorced"}),(0,r.jsx)(m.Ql,{value:"widowed",children:"Widowed"}),(0,r.jsx)(m.Ql,{value:"separated",children:"Separated"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"children_count",children:"Number of Children"}),(0,r.jsx)(d.I,{id:"children_count",type:"number",min:"0",value:v.children_count,onChange:e=>I("children_count",parseInt(e.target.value)||0)})]})]}),"married"===v.marital_status&&(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"spouse_name",children:"Spouse Name"}),(0,r.jsx)(d.I,{id:"spouse_name",value:v.spouse_name,onChange:e=>I("spouse_name",e.target.value)})]})]});case"spiritual":return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"date_of_baptism",children:"Date of Water Baptism"}),(0,r.jsx)(d.I,{id:"date_of_baptism",type:"date",value:v.date_of_baptism,onChange:e=>I("date_of_baptism",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"date_of_holy_ghost_baptism",children:"Date of Holy Ghost Baptism"}),(0,r.jsx)(d.I,{id:"date_of_holy_ghost_baptism",type:"date",value:v.date_of_holy_ghost_baptism,onChange:e=>I("date_of_holy_ghost_baptism",e.target.value)})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(A,{id:"holy_ghost_baptism",checked:v.holy_ghost_baptism,onCheckedChange:e=>I("holy_ghost_baptism",e)}),(0,r.jsx)(c._,{htmlFor:"holy_ghost_baptism",children:"Has received Holy Ghost Baptism"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"previous_church",children:"Previous Church"}),(0,r.jsx)(d.I,{id:"previous_church",value:v.previous_church,onChange:e=>I("previous_church",e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"reason_for_leaving",children:"Reason for Leaving Previous Church"}),(0,r.jsx)(d.I,{id:"reason_for_leaving",value:v.reason_for_leaving,onChange:e=>I("reason_for_leaving",e.target.value)})]})]})]});case"additional":return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"role",children:"Church Role"}),(0,r.jsxs)(m.Ph,{onValueChange:e=>I("role",e),value:v.role,required:!0,children:[(0,r.jsx)(m.i4,{id:"role",children:(0,r.jsx)(m.ki,{placeholder:"Select role"})}),(0,r.jsxs)(m.Bw,{children:[(0,r.jsx)(m.Ql,{value:"member",children:"Member"}),(0,r.jsx)(m.Ql,{value:"visitor",children:"Visitor"}),(0,r.jsx)(m.Ql,{value:"elder",children:"Elder"}),(0,r.jsx)(m.Ql,{value:"pastor",children:"Pastor"}),(0,r.jsx)(m.Ql,{value:"finance_officer",children:"Finance Officer"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(A,{id:"is_visitor",checked:v.is_visitor,onCheckedChange:e=>I("is_visitor",e)}),(0,r.jsx)(c._,{htmlFor:"is_visitor",children:"Register as visitor (not full member)"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"special_skills",children:"Special Skills (Press Enter to add)"}),(0,r.jsx)(d.I,{placeholder:"Enter skill and press Enter",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),F("special_skills",e.currentTarget.value),e.currentTarget.value="")}}),v.special_skills&&v.special_skills.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:v.special_skills.map((e,t)=>(0,r.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm flex items-center gap-1",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>E("special_skills",e),className:"text-blue-600 hover:text-blue-800",children:"\xd7"})]},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"interests",children:"Interests (Press Enter to add)"}),(0,r.jsx)(d.I,{placeholder:"Enter interest and press Enter",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),F("interests",e.currentTarget.value),e.currentTarget.value="")}}),v.interests&&v.interests.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:v.interests.map((e,t)=>(0,r.jsxs)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-sm flex items-center gap-1",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>E("interests",e),className:"text-green-600 hover:text-green-800",children:"\xd7"})]},t))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c._,{htmlFor:"notes",children:"Additional Notes"}),(0,r.jsx)(u.g,{id:"notes",value:v.notes,onChange:e=>I("notes",e.target.value),rows:4,placeholder:"Any additional information about this person..."})]})]});default:return null}})(),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-8 pt-6 border-t",children:[(0,r.jsx)(o.z,{variant:"outline",onClick:()=>{let e=X.findIndex(e=>e.key===g);e>0&&_(X[e-1].key)},disabled:g===X[0].key,children:"Previous"}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:["Step ",X.findIndex(e=>e.key===g)+1," of ",X.length]})}),R?(0,r.jsx)(o.z,{onClick:M,disabled:!O||j,className:"bg-blue-600 hover:bg-blue-700",children:j?(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Adding Member..."]}):(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(K.Z,{className:"h-5 w-5 mr-2"}),"Add Member"]})}):(0,r.jsxs)(o.z,{onClick:()=>{let e=X.findIndex(e=>e.key===g);e<X.length-1&&_(X[e+1].key)},disabled:!O,className:"bg-blue-600 hover:bg-blue-700",children:["Next",(0,r.jsx)($,{className:"h-4 w-4 ml-2"})]})]})]})]})]})}):null}},5509:function(e,t,s){"use strict";s.d(t,{Bw:function(){return x},Ph:function(){return c},Ql:function(){return f},i4:function(){return u},ki:function(){return m}});var r=s(7437),a=s(2265),n=s(3827),i=s(3523),l=s(9224),o=s(2442),d=s(1657);let c=n.fC;n.ZA;let m=n.B4,u=a.forwardRef((e,t)=>{let{className:s,children:a,...l}=e;return(0,r.jsxs)(n.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[a,(0,r.jsx)(n.JO,{asChild:!0,children:(0,r.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.xz.displayName;let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});h.displayName=n.u_.displayName;let p=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})});p.displayName=n.$G.displayName;let x=a.forwardRef((e,t)=>{let{className:s,children:a,position:i="popper",...l}=e;return(0,r.jsx)(n.h_,{children:(0,r.jsxs)(n.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,r.jsx)(h,{}),(0,r.jsx)(n.l_,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(p,{})]})})});x.displayName=n.VY.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...a})}).displayName=n.__.displayName;let f=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(n.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(n.eT,{children:a})]})});f.displayName=n.ck.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=n.Z0.displayName},3444:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var r=s(7437),a=s(2265),n=s(1657);let i=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...a})});i.displayName="Textarea"},5606:function(e,t,s){"use strict";s.d(t,{z:function(){return i}});var r=s(2265),a=s(2210),n=s(1030),i=e=>{let t,s;let{present:i,children:o}=e,d=function(e){var t,s;let[a,i]=r.useState(),o=r.useRef(null),d=r.useRef(e),c=r.useRef("none"),[m,u]=(t=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>s[e][t]??e,t));return r.useEffect(()=>{let e=l(o.current);c.current="mounted"===m?e:"none"},[m]),(0,n.b)(()=>{let t=o.current,s=d.current;if(s!==e){let r=c.current,a=l(t);e?u("MOUNT"):"none"===a||t?.display==="none"?u("UNMOUNT"):s&&r!==a?u("ANIMATION_OUT"):u("UNMOUNT"),d.current=e}},[e,u]),(0,n.b)(()=>{if(a){let e;let t=a.ownerDocument.defaultView??window,s=s=>{let r=l(o.current).includes(CSS.escape(s.animationName));if(s.target===a&&r&&(u("ANIMATION_END"),!d.current)){let s=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=s)})}},r=e=>{e.target===a&&(c.current=l(o.current))};return a.addEventListener("animationstart",r),a.addEventListener("animationcancel",s),a.addEventListener("animationend",s),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",r),a.removeEventListener("animationcancel",s),a.removeEventListener("animationend",s)}}u("ANIMATION_END")},[a,u]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:r.useCallback(e=>{o.current=e?getComputedStyle(e):null,i(e)},[])}}(i),c="function"==typeof o?o({present:d.isPresent}):r.Children.only(o),m=(0,a.e)(d.ref,(t=Object.getOwnPropertyDescriptor(c.props,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?c.ref:(t=Object.getOwnPropertyDescriptor(c,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?c.props.ref:c.props.ref||c.ref);return"function"==typeof o||d.isPresent?r.cloneElement(c,{ref:m}):null};function l(e){return e?.animationName||"none"}i.displayName="Presence"}},function(e){e.O(0,[895,833,295,747,58,971,938,744],function(){return e(e.s=6776)}),_N_E=e.O()}]);