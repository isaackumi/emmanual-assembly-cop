(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{9057:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(2898).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},4035:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(2898).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},3008:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(2898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4579:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(2898).Z)("Church",[["path",{d:"m18 7 4 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9l4-2",key:"gy5gyo"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 22V5l-6-3-6 3v17",key:"1hsnhq"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M10 9h4",key:"u4k05v"}]])},6369:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(2898).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},6637:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},7810:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(2898).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},2741:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(2898).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},2245:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t(2898).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},4444:function(e,s,t){Promise.resolve().then(t.bind(t,4613))},4613:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return S}});var l=t(7437),a=t(2265),r=t(4033),i=t(9477),n=t(7815),c=t(5754),d=t(1478),o=t(5083),m=t(4599),x=t(1657),h=t(7972),u=t(3067),p=t(9617),j=t(4035),g=t(3008),v=t(8203),y=t(7810),f=t(5750),N=t(6637),b=t(2741),_=t(9057),w=t(4579),k=t(6369),Z=t(2245);function S(){var e,s,t,S,O,A,M,C,T,D,z,E,P,I,Y,L,V,G,B,H,q,F,R,U,W,J;let{user:K,loading:Q}=(0,i.useAuth)(),X=(0,r.useRouter)(),$=(0,r.useParams)(),{toast:ee}=(0,o.pm)(),es=(0,m.e)(),[et,el]=(0,a.useState)(null),[ea,er]=(0,a.useState)([]),[ei,en]=(0,a.useState)(!0);(0,a.useEffect)(()=>{Q||K||X.push("/auth")},[K,Q,X]),(0,a.useEffect)(()=>{K&&$.id&&(ec(),ed())},[K,$.id]);let ec=async()=>{try{en(!0);let{data:e,error:s}=await es.from("members").select("\n          *,\n          user:app_users(*),\n          dependants(*),\n          group_memberships:group_members(\n            *,\n            group:groups(name, group_type)\n          )\n        ").eq("id",$.id).single();if(s)throw console.error("Error fetching member:",s),s;el(e)}catch(e){console.error("Error fetching member:",e)}finally{en(!1)}},ed=async()=>{try{let{data:e,error:s}=await es.from("attendance").select("*").eq("member_id",$.id).order("service_date",{ascending:!1}).limit(50);if(s){console.error("Error fetching attendance history:",s);return}er(e||[])}catch(e){console.error("Error fetching attendance history:",e)}},eo=et?function(e,s){let t={personal:{completed:0,total:5},contact:{completed:0,total:3},professional:{completed:0,total:2},family:{completed:0,total:3},spiritual:{completed:0,total:4},additional:{completed:0,total:3}};e.first_name&&""!==e.first_name.trim()&&t.personal.completed++,e.last_name&&""!==e.last_name.trim()&&t.personal.completed++,e.phone&&""!==e.phone.trim()&&t.personal.completed++,e.email&&""!==e.email.trim()&&t.personal.completed++,(null==s?void 0:s.gender)&&""!==s.gender.trim()&&t.personal.completed++,(null==s?void 0:s.address)&&""!==s.address.trim()&&t.contact.completed++,e.secondary_phone&&""!==e.secondary_phone.trim()&&t.contact.completed++,e.emergency_contact_phone&&""!==e.emergency_contact_phone.trim()&&t.contact.completed++,e.occupation&&""!==e.occupation.trim()&&t.professional.completed++,e.place_of_work&&""!==e.place_of_work.trim()&&t.professional.completed++,e.marital_status&&""!==e.marital_status.trim()&&t.family.completed++,e.spouse_name&&""!==e.spouse_name.trim()&&t.family.completed++,null!==e.children_count&&void 0!==e.children_count&&t.family.completed++,(null==s?void 0:s.dob)&&t.spiritual.completed++,(null==s?void 0:s.date_of_baptism)&&t.spiritual.completed++,(null==s?void 0:s.holy_ghost_baptism)!==null&&(null==s?void 0:s.holy_ghost_baptism)!==void 0&&t.spiritual.completed++,(null==s?void 0:s.date_of_holy_ghost_baptism)&&t.spiritual.completed++,(null==s?void 0:s.profile_photo_url)&&""!==s.profile_photo_url.trim()&&t.additional.completed++,(null==s?void 0:s.special_skills)&&Array.isArray(s.special_skills)&&s.special_skills.length>0&&t.additional.completed++,(null==s?void 0:s.interests)&&Array.isArray(s.interests)&&s.interests.length>0&&t.additional.completed++;let l=Object.values(t).reduce((e,s)=>e+s.completed,0),a=Object.values(t).reduce((e,s)=>e+s.total,0);return{percentage:Math.round(l/a*100),completed:l,total:a,details:t}}(et.user,et):null;return Q||ei?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 p-8 flex items-center justify-center",children:(0,l.jsx)("div",{className:"animate-pulse text-blue-600 text-lg",children:"Loading..."})}):K?et?(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,l.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)(c.z,{variant:"ghost",size:"sm",onClick:()=>X.push("/members"),className:"mr-3 text-gray-600 hover:text-gray-900",children:[(0,l.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),"Back to Members"]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-900",style:{fontFamily:'"Space Grotesk", sans-serif'},children:"Member Profile"}),(0,l.jsx)("p",{className:"text-gray-600",children:null===(e=et.user)||void 0===e?void 0:e.full_name})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsxs)(c.z,{variant:"outline",children:[(0,l.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),(0,l.jsxs)(c.z,{variant:"outline",children:[(0,l.jsx)(j.Z,{className:"h-4 w-4 mr-2"}),"Change Photo"]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,l.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,l.jsx)(n.Zb,{children:(0,l.jsx)(n.aY,{className:"p-6",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:et.profile_photo_url?(0,l.jsx)("img",{src:et.profile_photo_url,alt:null===(s=et.user)||void 0===s?void 0:s.full_name,className:"w-24 h-24 rounded-full object-cover"}):(0,l.jsx)(h.Z,{className:"h-12 w-12 text-white"})}),(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",style:{fontFamily:'"Space Grotesk", sans-serif'},children:null===(t=et.user)||void 0===t?void 0:t.full_name}),(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[(0,l.jsx)(d.C,{className:(e=>{switch(e){case"admin":return"bg-purple-100 text-purple-800";case"pastor":return"bg-red-100 text-red-800";case"elder":return"bg-blue-100 text-blue-800";case"finance_officer":return"bg-green-100 text-green-800";case"member":default:return"bg-gray-100 text-gray-800";case"visitor":return"bg-yellow-100 text-yellow-800"}})((null===(S=et.user)||void 0===S?void 0:S.role)||"member"),children:null===(O=et.user)||void 0===O?void 0:O.role}),(0,l.jsx)(d.C,{className:(e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"visitor":return"bg-blue-100 text-blue-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"transferred":return"bg-yellow-100 text-yellow-800"}})(et.status||"active"),children:et.status})]}),(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,l.jsxs)("p",{className:"text-sm text-gray-500",children:["ID: ",(0,l.jsx)("span",{className:"font-mono text-blue-600 font-semibold",children:null===(A=et.user)||void 0===A?void 0:A.membership_id})]}),(0,l.jsx)(c.z,{variant:"ghost",size:"sm",onClick:()=>{var e;(null===(e=et.user)||void 0===e?void 0:e.membership_id)&&(navigator.clipboard.writeText(et.user.membership_id),ee({title:"Copied!",description:"Membership ID copied to clipboard"}))},className:"p-1 h-6 w-6",children:(0,l.jsx)("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})})}),eo&&(0,l.jsxs)(n.Zb,{children:[(0,l.jsx)(n.Ol,{children:(0,l.jsxs)(n.ll,{className:"text-lg flex items-center",children:[(0,l.jsx)(g.Z,{className:"h-5 w-5 mr-2"}),"Profile Completion"]})}),(0,l.jsx)(n.aY,{children:(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"Overall Progress"}),(0,l.jsxs)("span",{className:"text-sm font-bold ".concat((W=eo.percentage)>=80?"text-green-600":W>=60?"text-yellow-600":W>=40?"text-orange-600":"text-red-600"),children:[eo.percentage,"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(eo.percentage,"%")}})}),(0,l.jsx)("div",{className:"text-xs text-gray-500",children:(J=eo.percentage)>=90?"Profile is almost complete!":J>=70?"Great progress! Keep going!":J>=50?"Halfway there!":J>=25?"Getting started!":"Complete your profile to get the most out of the system!"}),(0,l.jsxs)("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:[(0,l.jsx)("div",{className:"text-xs font-medium text-gray-600",children:"Progress by Section:"}),Object.entries(eo.details).map(e=>{let[s,t]=e;return(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,l.jsx)("span",{className:"capitalize text-gray-600",children:s.replace("_"," ")}),(0,l.jsxs)("span",{className:"text-gray-500",children:[t.completed,"/",t.total]})]},s)})]})]})})]}),(0,l.jsxs)(n.Zb,{children:[(0,l.jsx)(n.Ol,{children:(0,l.jsx)(n.ll,{className:"text-lg",children:"Quick Actions"})}),(0,l.jsxs)(n.aY,{className:"space-y-2",children:[(0,l.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",children:[(0,l.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"View Attendance"]}),(0,l.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",children:[(0,l.jsx)(y.Z,{className:"h-4 w-4 mr-2"}),"Add Dependant"]}),(0,l.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",children:[(0,l.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Join Group"]}),(0,l.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",children:[(0,l.jsx)(N.Z,{className:"h-4 w-4 mr-2"}),"View Documents"]})]})]})]}),(0,l.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,l.jsxs)(n.Zb,{children:[(0,l.jsx)(n.Ol,{children:(0,l.jsxs)(n.ll,{className:"text-lg flex items-center",children:[(0,l.jsx)(h.Z,{className:"h-5 w-5 mr-2"}),"Personal Information"]})}),(0,l.jsx)(n.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"First Name"}),(0,l.jsx)("p",{className:"text-gray-900",children:(null===(M=et.user)||void 0===M?void 0:M.first_name)||"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Middle Name"}),(0,l.jsx)("p",{className:"text-gray-900",children:(null===(C=et.user)||void 0===C?void 0:C.middle_name)||"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Last Name"}),(0,l.jsx)("p",{className:"text-gray-900",children:(null===(T=et.user)||void 0===T?void 0:T.last_name)||"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Gender"}),(0,l.jsx)("p",{className:"text-gray-900 capitalize",children:et.gender||"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),(0,l.jsx)("p",{className:"text-gray-900",children:et.dob?(0,x.p6)(et.dob):"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Marital Status"}),(0,l.jsx)("p",{className:"text-gray-900 capitalize",children:(null===(D=et.user)||void 0===D?void 0:D.marital_status)||"Not provided"})]})]})})]}),(0,l.jsxs)(n.Zb,{children:[(0,l.jsx)(n.Ol,{children:(0,l.jsxs)(n.ll,{className:"text-lg flex items-center",children:[(0,l.jsx)(b.Z,{className:"h-5 w-5 mr-2"}),"Contact Information"]})}),(0,l.jsx)(n.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Primary Phone"}),(0,l.jsx)("p",{className:"text-gray-900",children:(null===(z=et.user)||void 0===z?void 0:z.phone)||"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Secondary Phone"}),(0,l.jsx)("p",{className:"text-gray-900",children:(null===(E=et.user)||void 0===E?void 0:E.secondary_phone)||"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,l.jsx)("p",{className:"text-gray-900",children:(null===(P=et.user)||void 0===P?void 0:P.email)||"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,l.jsx)("p",{className:"text-gray-900",children:et.address||"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Emergency Contact"}),(0,l.jsx)("p",{className:"text-gray-900",children:(null===(I=et.user)||void 0===I?void 0:I.emergency_contact_name)?"".concat(et.user.emergency_contact_name," (").concat(et.user.emergency_contact_relation,") - ").concat(et.user.emergency_contact_phone):"Not provided"})]})]})})]}),(0,l.jsxs)(n.Zb,{children:[(0,l.jsx)(n.Ol,{children:(0,l.jsxs)(n.ll,{className:"text-lg flex items-center",children:[(0,l.jsx)(_.Z,{className:"h-5 w-5 mr-2"}),"Professional Information"]})}),(0,l.jsx)(n.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Occupation"}),(0,l.jsx)("p",{className:"text-gray-900",children:(null===(Y=et.user)||void 0===Y?void 0:Y.occupation)||"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Place of Work"}),(0,l.jsx)("p",{className:"text-gray-900",children:(null===(L=et.user)||void 0===L?void 0:L.place_of_work)||"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Spouse Name"}),(0,l.jsx)("p",{className:"text-gray-900",children:(null===(V=et.user)||void 0===V?void 0:V.spouse_name)||"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Number of Children"}),(0,l.jsx)("p",{className:"text-gray-900",children:(null===(G=et.user)||void 0===G?void 0:G.children_count)||0})]})]})})]}),(0,l.jsxs)(n.Zb,{children:[(0,l.jsx)(n.Ol,{children:(0,l.jsxs)(n.ll,{className:"text-lg flex items-center",children:[(0,l.jsx)(w.Z,{className:"h-5 w-5 mr-2"}),"Spiritual Information"]})}),(0,l.jsx)(n.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Date of Baptism"}),(0,l.jsx)("p",{className:"text-gray-900",children:et.date_of_baptism?(0,x.p6)(et.date_of_baptism):"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Holy Ghost Baptism"}),(0,l.jsxs)("div",{className:"flex items-center",children:[et.holy_ghost_baptism?(0,l.jsx)(g.Z,{className:"h-4 w-4 text-green-600 mr-1"}):(0,l.jsx)(k.Z,{className:"h-4 w-4 text-gray-400 mr-1"}),(0,l.jsx)("span",{className:"text-gray-900",children:et.holy_ghost_baptism?"Yes":"No"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Date of Holy Ghost Baptism"}),(0,l.jsx)("p",{className:"text-gray-900",children:et.date_of_holy_ghost_baptism?(0,x.p6)(et.date_of_holy_ghost_baptism):"Not provided"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Previous Church"}),(0,l.jsx)("p",{className:"text-gray-900",children:et.previous_church||"Not provided"})]}),(0,l.jsxs)("div",{className:"md:col-span-2",children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Reason for Leaving Previous Church"}),(0,l.jsx)("p",{className:"text-gray-900",children:et.reason_for_leaving||"Not provided"})]})]})})]}),((null===(B=et.special_skills)||void 0===B?void 0:B.length)||(null===(H=et.interests)||void 0===H?void 0:H.length))&&(0,l.jsxs)(n.Zb,{children:[(0,l.jsx)(n.Ol,{children:(0,l.jsxs)(n.ll,{className:"text-lg flex items-center",children:[(0,l.jsx)(Z.Z,{className:"h-5 w-5 mr-2"}),"Skills & Interests"]})}),(0,l.jsx)(n.aY,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(null===(q=et.special_skills)||void 0===q?void 0:q.length)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Special Skills"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:et.special_skills.map((e,s)=>(0,l.jsx)(d.C,{variant:"secondary",children:e},s))})]}),(null===(F=et.interests)||void 0===F?void 0:F.length)&&(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium text-gray-500",children:"Interests"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:et.interests.map((e,s)=>(0,l.jsx)(d.C,{variant:"outline",children:e},s))})]})]})})]}),(null===(R=et.group_memberships)||void 0===R?void 0:R.length)&&(0,l.jsxs)(n.Zb,{children:[(0,l.jsx)(n.Ol,{children:(0,l.jsxs)(n.ll,{className:"text-lg flex items-center",children:[(0,l.jsx)(f.Z,{className:"h-5 w-5 mr-2"}),"Group Memberships"]})}),(0,l.jsx)(n.aY,{children:(0,l.jsx)("div",{className:"space-y-3",children:et.group_memberships.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-gray-900",children:e.group.name}),(0,l.jsx)("p",{className:"text-sm text-gray-500 capitalize",children:e.group.group_type})]}),(0,l.jsx)(d.C,{variant:"outline",children:e.role})]},e.id))})})]}),(0,l.jsxs)(n.Zb,{children:[(0,l.jsx)(n.Ol,{children:(0,l.jsxs)(n.ll,{className:"text-lg flex items-center",children:[(0,l.jsx)(v.Z,{className:"h-5 w-5 mr-2"}),"Attendance History"]})}),(0,l.jsxs)(n.aY,{children:[0===ea.length?(0,l.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,l.jsx)(v.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,l.jsx)("p",{children:"No attendance records found"})]}):(0,l.jsx)("div",{className:"space-y-3",children:ea.map(e=>{var s;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(g.Z,{className:"h-5 w-5 text-green-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-gray-900",children:(0,x.p6)(e.service_date)}),(0,l.jsxs)("p",{className:"text-sm text-gray-500 capitalize",children:[null===(s=e.service_type)||void 0===s?void 0:s.replace("_"," ")," • ",e.method]})]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.check_in_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),(0,l.jsx)(d.C,{variant:"outline",className:"mt-1",children:e.method})]})]},e.id)})}),ea.length>0&&(0,l.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,l.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Attendance Summary"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:ea.length}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Total Services"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[Math.round(ea.length/Math.max(1,Math.floor((Date.now()-new Date((null==et?void 0:et.created_at)||"").getTime())/6048e5))*100),"%"]}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Weekly Average"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:ea.filter(e=>new Date(e.service_date)>=new Date(Date.now()-2592e6)).length}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:"Last 30 Days"})]})]})]})]})]}),(null===(U=et.dependants)||void 0===U?void 0:U.length)&&(0,l.jsxs)(n.Zb,{children:[(0,l.jsx)(n.Ol,{children:(0,l.jsxs)(n.ll,{className:"text-lg flex items-center",children:[(0,l.jsx)(y.Z,{className:"h-5 w-5 mr-2"}),"Dependants (",et.dependants.length,")"]})}),(0,l.jsx)(n.aY,{children:(0,l.jsx)("div",{className:"space-y-3",children:et.dependants.map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,l.jsxs)("p",{className:"text-sm text-gray-500 capitalize",children:[e.relationship," • ",e.dob?(0,x.p6)(e.dob):"No DOB"]})]}),e.is_member&&(0,l.jsx)(d.C,{variant:"secondary",children:"Member"})]},e.id))})})]}),et.notes&&(0,l.jsxs)(n.Zb,{children:[(0,l.jsx)(n.Ol,{children:(0,l.jsxs)(n.ll,{className:"text-lg flex items-center",children:[(0,l.jsx)(N.Z,{className:"h-5 w-5 mr-2"}),"Notes"]})}),(0,l.jsx)(n.aY,{children:(0,l.jsx)("p",{className:"text-gray-900 whitespace-pre-wrap",children:et.notes})})]})]})]})]})}):(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,l.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)(h.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Member not found"}),(0,l.jsx)("p",{className:"text-gray-500 mb-4",children:"The member you're looking for doesn't exist."}),(0,l.jsxs)(c.z,{onClick:()=>X.push("/members"),children:[(0,l.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Back to Members"]})]})})}):null}},5083:function(e,s,t){"use strict";t.d(s,{pm:function(){return x}});var l=t(2265);let a=0,r=new Map,i=e=>{if(r.has(e))return;let s=setTimeout(()=>{r.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,s)},n=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],d={toasts:[]};function o(e){d=n(d,e),c.forEach(e=>{e(d)})}function m(e){let{...s}=e,t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),l=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||l()}}}),{id:t,dismiss:l,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function x(){let[e,s]=l.useState(d);return l.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}}},function(e){e.O(0,[895,833,372,971,938,744],function(){return e(e.s=4444)}),_N_E=e.O()}]);