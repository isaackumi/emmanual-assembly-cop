(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[212],{559:function(e,t,n){Promise.resolve().then(n.bind(n,8175))},8175:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var r=n(7437),l=n(9477),i=n(7815),o=n(5754),s=n(8346);function a(){let{user:e,loading:t}=(0,l.useAuth)();return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(i.ll,{children:"Auth Test Page"}),(0,r.jsx)(i.SZ,{children:"Debug authentication state and localStorage"})]}),(0,r.jsxs)(i.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-gray-100 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Current Auth State:"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Loading:"})," ",t?"true":"false"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"User:"})," ",e?JSON.stringify(e,null,2):"null"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(o.z,{onClick:()=>{(0,s.i)({id:"5f958b2d-d241-4895-9381-c2b5ab8a7f31",full_name:"System Administrator",role:"admin",phone:"+233548769251",auth_uid:"36cdaf38-a853-45a9-93c8-19bc9e207ec9"}),console.log("Test user set manually"),window.location.reload()},className:"w-full",children:"Set Test User in localStorage"}),(0,r.jsx)(o.z,{onClick:()=>{(0,s.oV)(),console.log("Test user cleared"),window.location.reload()},variant:"outline",className:"w-full",children:"Clear Test User from localStorage"}),(0,r.jsx)(o.z,{onClick:()=>{let e=(0,s.b_)();console.log("localStorage check:",e),alert("Test User: ".concat(e?JSON.stringify(e,null,2):"null"))},variant:"secondary",className:"w-full",children:"Check localStorage Contents"})]}),(0,r.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Instructions:"}),(0,r.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[(0,r.jsx)("li",{children:'Click "Set Test User in localStorage"'}),(0,r.jsx)("li",{children:"Page will reload automatically"}),(0,r.jsx)("li",{children:"Check if user is now populated"}),(0,r.jsx)("li",{children:"If not, check browser console for errors"})]})]})]})]})})})}},9477:function(e,t,n){"use strict";n.r(t),n.d(t,{Providers:function(){return c},useAuth:function(){return a}});var r=n(7437),l=n(2265),i=n(8346);let o=(0,l.createContext)(void 0);function s(e){let{children:t}=e,[n,s]=(0,l.useState)(null),[a,c]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{let e=()=>{let e=(0,i.b_)();e?(console.log("SimpleAuth: Found test user:",e),s(e)):(console.log("SimpleAuth: No test user found"),s(null)),c(!1)};e();let t=t=>{"emmanuel_assembly_test_user"===t.key&&(console.log("SimpleAuth: localStorage changed, checking user"),e())},n=e=>{console.log("SimpleAuth: testUserChanged event received:",e.detail),e.detail?s(e.detail):s(null)};return window.addEventListener("storage",t),window.addEventListener("testUserChanged",n),()=>{window.removeEventListener("storage",t),window.removeEventListener("testUserChanged",n)}},[]),(0,r.jsx)(o.Provider,{value:{user:n,loading:a,signOut:()=>{(0,i.oV)(),s(null),window.location.href="/auth"}},children:t})}function a(){let e=(0,l.useContext)(o);if(void 0===e)throw Error("useAuth must be used within a SimpleAuthProvider");return e}function c(e){let{children:t}=e;return(0,r.jsx)(s,{children:t})}},5754:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(7437),l=n(2265),i=n(7256),o=n(6061),s=n(1657);let a=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef((e,t)=>{let{className:n,variant:l,size:o,asChild:c=!1,...u}=e,d=c?i.g7:"button";return(0,r.jsx)(d,{className:(0,s.cn)(a({variant:l,size:o,className:n})),ref:t,...u})});c.displayName="Button"},7815:function(e,t,n){"use strict";n.d(t,{Ol:function(){return s},SZ:function(){return c},Zb:function(){return o},aY:function(){return u},ll:function(){return a}});var r=n(7437),l=n(2265),i=n(1657);let o=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...l})});o.displayName="Card";let s=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",n),...l})});s.displayName="CardHeader";let a=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",n),...l})});a.displayName="CardTitle";let c=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",n),...l})});c.displayName="CardDescription";let u=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",n),...l})});u.displayName="CardContent",l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",n),...l})}).displayName="CardFooter"},8346:function(e,t,n){"use strict";n.d(t,{b_:function(){return i},i:function(){return l},oV:function(){return o}});let r="emmanuel_assembly_test_user";function l(e){localStorage.setItem(r,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("testUserChanged",{detail:e}))}function i(){try{let e=localStorage.getItem(r);return e?JSON.parse(e):null}catch(e){return null}}function o(){localStorage.removeItem(r),window.dispatchEvent(new CustomEvent("testUserChanged",{detail:null}))}},1657:function(e,t,n){"use strict";n.d(t,{Fw:function(){return c},cn:function(){return i},o0:function(){return s},p6:function(){return o},tC:function(){return u},un:function(){return a}});var r=n(7042),l=n(4769);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,l.m6)((0,r.W)(t))}function o(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function s(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function a(e){let t=e.replace(/\D/g,"");return t.startsWith("233")?"+".concat(t.slice(0,3)," ").concat(t.slice(3,6)," ").concat(t.slice(6,9)," ").concat(t.slice(9)):t.startsWith("0")?"+233 ".concat(t.slice(1,4)," ").concat(t.slice(4,7)," ").concat(t.slice(7)):e}function c(e){let t=new Date,n=new Date(e),r=t.getFullYear()-n.getFullYear(),l=t.getMonth()-n.getMonth();return(l<0||0===l&&t.getDate()<n.getDate())&&r--,r}function u(e){if(!e)return"";let t=function(e){if(!e)return"";let t=e.replace(/[^A-Za-z0-9-]/g,"").toUpperCase();if(/^EA-\d{4}-\d{4}$/.test(t))return t;if(/^\d{8}$/.test(t))return"EA-".concat(t.slice(0,4),"-").concat(t.slice(4));if(t.startsWith("EA")){let e=t.replace(/[^0-9]/g,"");if(8===e.length)return"EA-".concat(e.slice(0,4),"-").concat(e.slice(4))}return t}(e);return/^EA-\d{4}-\d{4}$/.test(t)?t:e}},2210:function(e,t,n){"use strict";n.d(t,{F:function(){return i},e:function(){return o}});var r=n(2265);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let n=!1,r=e.map(e=>{let r=l(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];"function"==typeof n?n():l(e[t],null)}}}}function o(...e){return r.useCallback(i(...e),e)}},7256:function(e,t,n){"use strict";n.d(t,{Z8:function(){return o},g7:function(){return s}});var r=n(2265),l=n(2210),i=n(7437);function o(e){let t=function(e){let t=r.forwardRef((e,t)=>{let{children:n,...i}=e;if(r.isValidElement(n)){let e,o;let s=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref,a=function(e,t){let n={...t};for(let r in t){let l=e[r],i=t[r];/^on[A-Z]/.test(r)?l&&i?n[r]=(...e)=>{let t=i(...e);return l(...e),t}:l&&(n[r]=l):"style"===r?n[r]={...l,...i}:"className"===r&&(n[r]=[l,i].filter(Boolean).join(" "))}return{...e,...n}}(i,n.props);return n.type!==r.Fragment&&(a.ref=t?(0,l.F)(t,s):s),r.cloneElement(n,a)}return r.Children.count(n)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),n=r.forwardRef((e,n)=>{let{children:l,...o}=e,s=r.Children.toArray(l),a=s.find(c);if(a){let e=a.props.children,l=s.map(t=>t!==a?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...o,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,l):null})}return(0,i.jsx)(t,{...o,ref:n,children:l})});return n.displayName=`${e}.Slot`,n}var s=o("Slot"),a=Symbol("radix.slottable");function c(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===a}},6061:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var r=n(7042);let l=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=r.W,o=(e,t)=>n=>{var r;if((null==t?void 0:t.variants)==null)return i(e,null==n?void 0:n.class,null==n?void 0:n.className);let{variants:o,defaultVariants:s}=t,a=Object.keys(o).map(e=>{let t=null==n?void 0:n[e],r=null==s?void 0:s[e];if(null===t)return null;let i=l(t)||l(r);return o[e][i]}),c=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{});return i(e,a,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...l}=t;return Object.entries(l).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...s,...c}[t]):({...s,...c})[t]===n})?[...e,n,r]:e},[]),null==n?void 0:n.class,null==n?void 0:n.className)}}},function(e){e.O(0,[895,971,938,744],function(){return e(e.s=559)}),_N_E=e.O()}]);