(()=>{var e={};e.id=91,e.ids=[91],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},4417:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>d});var r=t(482),a=t(9108),l=t(2563),i=t.n(l),c=t(8300),n={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);t.d(s,n);let d=["",{children:["members",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2368)),"/Users/isaackumi/devel/gigs/cop-chMS/app/members/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2323)),"/Users/isaackumi/devel/gigs/cop-chMS/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/isaackumi/devel/gigs/cop-chMS/app/members/[id]/page.tsx"],m="/members/[id]/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/members/[id]/page",pathname:"/members/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1015:(e,s,t)=>{Promise.resolve().then(t.bind(t,5134))},5134:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>M});var r=t(5344),a=t(3729),l=t(2254),i=t(6080),c=t(1351),n=t(6212),d=t(9436),o=t(692),m=t(6234),x=t(1626),h=t(8822),p=t(3024),u=t(5695),g=t(1765),j=t(7060),y=t(5794),f=t(1354),v=t(9895),N=t(7121),b=t(626),_=t(8026),w=t(9709),k=t(2958),Z=t(6755);function M(){var e,s;let{user:t,loading:M}=(0,i.useAuth)(),C=(0,l.useRouter)(),z=(0,l.useParams)(),{toast:P}=(0,o.pm)(),q=(0,m.e)(),[S,A]=(0,a.useState)(null),[I,O]=(0,a.useState)([]),[D,Y]=(0,a.useState)(!0);(0,a.useEffect)(()=>{M||t||C.push("/auth")},[t,M,C]),(0,a.useEffect)(()=>{t&&z.id&&(H(),L())},[t,z.id]);let H=async()=>{try{Y(!0);let{data:e,error:s}=await q.from("members").select(`
          *,
          user:app_users(*),
          dependants(*),
          group_memberships:group_members(
            *,
            group:groups(name, group_type)
          )
        `).eq("id",z.id).single();if(s)throw console.error("Error fetching member:",s),s;A(e)}catch(e){console.error("Error fetching member:",e)}finally{Y(!1)}},L=async()=>{try{let{data:e,error:s}=await q.from("attendance").select("*").eq("member_id",z.id).order("service_date",{ascending:!1}).limit(50);if(s){console.error("Error fetching attendance history:",s);return}O(e||[])}catch(e){console.error("Error fetching attendance history:",e)}},V=S?function(e,s){let t={personal:{completed:0,total:5},contact:{completed:0,total:3},professional:{completed:0,total:2},family:{completed:0,total:3},spiritual:{completed:0,total:4},additional:{completed:0,total:3}};e.first_name&&""!==e.first_name.trim()&&t.personal.completed++,e.last_name&&""!==e.last_name.trim()&&t.personal.completed++,e.phone&&""!==e.phone.trim()&&t.personal.completed++,e.email&&""!==e.email.trim()&&t.personal.completed++,s?.gender&&""!==s.gender.trim()&&t.personal.completed++,s?.address&&""!==s.address.trim()&&t.contact.completed++,e.secondary_phone&&""!==e.secondary_phone.trim()&&t.contact.completed++,e.emergency_contact_phone&&""!==e.emergency_contact_phone.trim()&&t.contact.completed++,e.occupation&&""!==e.occupation.trim()&&t.professional.completed++,e.place_of_work&&""!==e.place_of_work.trim()&&t.professional.completed++,e.marital_status&&""!==e.marital_status.trim()&&t.family.completed++,e.spouse_name&&""!==e.spouse_name.trim()&&t.family.completed++,null!==e.children_count&&void 0!==e.children_count&&t.family.completed++,s?.dob&&t.spiritual.completed++,s?.date_of_baptism&&t.spiritual.completed++,s?.holy_ghost_baptism!==null&&s?.holy_ghost_baptism!==void 0&&t.spiritual.completed++,s?.date_of_holy_ghost_baptism&&t.spiritual.completed++,s?.profile_photo_url&&""!==s.profile_photo_url.trim()&&t.additional.completed++,s?.special_skills&&Array.isArray(s.special_skills)&&s.special_skills.length>0&&t.additional.completed++,s?.interests&&Array.isArray(s.interests)&&s.interests.length>0&&t.additional.completed++;let r=Object.values(t).reduce((e,s)=>e+s.completed,0),a=Object.values(t).reduce((e,s)=>e+s.total,0);return{percentage:Math.round(r/a*100),completed:r,total:a,details:t}}(S.user,S):null;return M||D?r.jsx("div",{className:"min-h-screen bg-gray-50 p-8 flex items-center justify-center",children:r.jsx("div",{className:"animate-pulse text-blue-600 text-lg",children:"Loading..."})}):t?S?r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(n.z,{variant:"ghost",size:"sm",onClick:()=>C.push("/members"),className:"mr-3 text-gray-600 hover:text-gray-900",children:[r.jsx(p.Z,{className:"h-4 w-4 mr-1"}),"Back to Members"]}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",style:{fontFamily:'"Space Grotesk", sans-serif'},children:"Member Profile"}),r.jsx("p",{className:"text-gray-600",children:S.user?.full_name})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)(n.z,{variant:"outline",children:[r.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),(0,r.jsxs)(n.z,{variant:"outline",children:[r.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Change Photo"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[r.jsx(c.Zb,{children:r.jsx(c.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:S.profile_photo_url?r.jsx("img",{src:S.profile_photo_url,alt:S.user?.full_name,className:"w-24 h-24 rounded-full object-cover"}):r.jsx(h.Z,{className:"h-12 w-12 text-white"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",style:{fontFamily:'"Space Grotesk", sans-serif'},children:S.user?.full_name}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-3",children:[r.jsx(d.C,{className:(e=>{switch(e){case"admin":return"bg-purple-100 text-purple-800";case"pastor":return"bg-red-100 text-red-800";case"elder":return"bg-blue-100 text-blue-800";case"finance_officer":return"bg-green-100 text-green-800";case"member":default:return"bg-gray-100 text-gray-800";case"visitor":return"bg-yellow-100 text-yellow-800"}})(S.user?.role||"member"),children:S.user?.role}),r.jsx(d.C,{className:(e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"visitor":return"bg-blue-100 text-blue-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"transferred":return"bg-yellow-100 text-yellow-800"}})(S.status||"active"),children:S.status})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["ID: ",r.jsx("span",{className:"font-mono text-blue-600 font-semibold",children:S.user?.membership_id})]}),r.jsx(n.z,{variant:"ghost",size:"sm",onClick:()=>{S.user?.membership_id&&(navigator.clipboard.writeText(S.user.membership_id),P({title:"Copied!",description:"Membership ID copied to clipboard"}))},className:"p-1 h-6 w-6",children:r.jsx("svg",{className:"h-3 w-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})})}),V&&(0,r.jsxs)(c.Zb,{children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"text-lg flex items-center",children:[r.jsx(j.Z,{className:"h-5 w-5 mr-2"}),"Profile Completion"]})}),r.jsx(c.aY,{children:(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:"Overall Progress"}),(0,r.jsxs)("span",{className:`text-sm font-bold ${(e=V.percentage)>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600"}`,children:[V.percentage,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${V.percentage}%`}})}),r.jsx("div",{className:"text-xs text-gray-500",children:(s=V.percentage)>=90?"Profile is almost complete!":s>=70?"Great progress! Keep going!":s>=50?"Halfway there!":s>=25?"Getting started!":"Complete your profile to get the most out of the system!"}),(0,r.jsxs)("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:[r.jsx("div",{className:"text-xs font-medium text-gray-600",children:"Progress by Section:"}),Object.entries(V.details).map(([e,s])=>(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[r.jsx("span",{className:"capitalize text-gray-600",children:e.replace("_"," ")}),(0,r.jsxs)("span",{className:"text-gray-500",children:[s.completed,"/",s.total]})]},e))]})]})})]}),(0,r.jsxs)(c.Zb,{children:[r.jsx(c.Ol,{children:r.jsx(c.ll,{className:"text-lg",children:"Quick Actions"})}),(0,r.jsxs)(c.aY,{className:"space-y-2",children:[(0,r.jsxs)(n.z,{variant:"outline",className:"w-full justify-start",children:[r.jsx(y.Z,{className:"h-4 w-4 mr-2"}),"View Attendance"]}),(0,r.jsxs)(n.z,{variant:"outline",className:"w-full justify-start",children:[r.jsx(f.Z,{className:"h-4 w-4 mr-2"}),"Add Dependant"]}),(0,r.jsxs)(n.z,{variant:"outline",className:"w-full justify-start",children:[r.jsx(v.Z,{className:"h-4 w-4 mr-2"}),"Join Group"]}),(0,r.jsxs)(n.z,{variant:"outline",className:"w-full justify-start",children:[r.jsx(N.Z,{className:"h-4 w-4 mr-2"}),"View Documents"]})]})]})]}),(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)(c.Zb,{children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"text-lg flex items-center",children:[r.jsx(h.Z,{className:"h-5 w-5 mr-2"}),"Personal Information"]})}),r.jsx(c.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"First Name"}),r.jsx("p",{className:"text-gray-900",children:S.user?.first_name||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Middle Name"}),r.jsx("p",{className:"text-gray-900",children:S.user?.middle_name||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Last Name"}),r.jsx("p",{className:"text-gray-900",children:S.user?.last_name||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Gender"}),r.jsx("p",{className:"text-gray-900 capitalize",children:S.gender||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date of Birth"}),r.jsx("p",{className:"text-gray-900",children:S.dob?(0,x.p6)(S.dob):"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Marital Status"}),r.jsx("p",{className:"text-gray-900 capitalize",children:S.user?.marital_status||"Not provided"})]})]})})]}),(0,r.jsxs)(c.Zb,{children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"text-lg flex items-center",children:[r.jsx(b.Z,{className:"h-5 w-5 mr-2"}),"Contact Information"]})}),r.jsx(c.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Primary Phone"}),r.jsx("p",{className:"text-gray-900",children:S.user?.phone||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Secondary Phone"}),r.jsx("p",{className:"text-gray-900",children:S.user?.secondary_phone||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),r.jsx("p",{className:"text-gray-900",children:S.user?.email||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Address"}),r.jsx("p",{className:"text-gray-900",children:S.address||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Emergency Contact"}),r.jsx("p",{className:"text-gray-900",children:S.user?.emergency_contact_name?`${S.user.emergency_contact_name} (${S.user.emergency_contact_relation}) - ${S.user.emergency_contact_phone}`:"Not provided"})]})]})})]}),(0,r.jsxs)(c.Zb,{children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"text-lg flex items-center",children:[r.jsx(_.Z,{className:"h-5 w-5 mr-2"}),"Professional Information"]})}),r.jsx(c.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Occupation"}),r.jsx("p",{className:"text-gray-900",children:S.user?.occupation||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Place of Work"}),r.jsx("p",{className:"text-gray-900",children:S.user?.place_of_work||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Spouse Name"}),r.jsx("p",{className:"text-gray-900",children:S.user?.spouse_name||"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Number of Children"}),r.jsx("p",{className:"text-gray-900",children:S.user?.children_count||0})]})]})})]}),(0,r.jsxs)(c.Zb,{children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"text-lg flex items-center",children:[r.jsx(w.Z,{className:"h-5 w-5 mr-2"}),"Spiritual Information"]})}),r.jsx(c.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date of Baptism"}),r.jsx("p",{className:"text-gray-900",children:S.date_of_baptism?(0,x.p6)(S.date_of_baptism):"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Holy Ghost Baptism"}),(0,r.jsxs)("div",{className:"flex items-center",children:[S.holy_ghost_baptism?r.jsx(j.Z,{className:"h-4 w-4 text-green-600 mr-1"}):r.jsx(k.Z,{className:"h-4 w-4 text-gray-400 mr-1"}),r.jsx("span",{className:"text-gray-900",children:S.holy_ghost_baptism?"Yes":"No"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Date of Holy Ghost Baptism"}),r.jsx("p",{className:"text-gray-900",children:S.date_of_holy_ghost_baptism?(0,x.p6)(S.date_of_holy_ghost_baptism):"Not provided"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Previous Church"}),r.jsx("p",{className:"text-gray-900",children:S.previous_church||"Not provided"})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Reason for Leaving Previous Church"}),r.jsx("p",{className:"text-gray-900",children:S.reason_for_leaving||"Not provided"})]})]})})]}),(S.special_skills?.length||S.interests?.length)&&(0,r.jsxs)(c.Zb,{children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"text-lg flex items-center",children:[r.jsx(Z.Z,{className:"h-5 w-5 mr-2"}),"Skills & Interests"]})}),r.jsx(c.aY,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[S.special_skills?.length&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Special Skills"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:S.special_skills.map((e,s)=>r.jsx(d.C,{variant:"secondary",children:e},s))})]}),S.interests?.length&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Interests"}),r.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:S.interests.map((e,s)=>r.jsx(d.C,{variant:"outline",children:e},s))})]})]})})]}),S.group_memberships?.length&&(0,r.jsxs)(c.Zb,{children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"text-lg flex items-center",children:[r.jsx(v.Z,{className:"h-5 w-5 mr-2"}),"Group Memberships"]})}),r.jsx(c.aY,{children:r.jsx("div",{className:"space-y-3",children:S.group_memberships.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:e.group.name}),r.jsx("p",{className:"text-sm text-gray-500 capitalize",children:e.group.group_type})]}),r.jsx(d.C,{variant:"outline",children:e.role})]},e.id))})})]}),(0,r.jsxs)(c.Zb,{children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"text-lg flex items-center",children:[r.jsx(y.Z,{className:"h-5 w-5 mr-2"}),"Attendance History"]})}),(0,r.jsxs)(c.aY,{children:[0===I.length?(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(y.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No attendance records found"})]}):r.jsx("div",{className:"space-y-3",children:I.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(j.Z,{className:"h-5 w-5 text-green-600"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:(0,x.p6)(e.service_date)}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 capitalize",children:[e.service_type?.replace("_"," ")," • ",e.method]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600",children:new Date(e.check_in_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}),r.jsx(d.C,{variant:"outline",className:"mt-1",children:e.method})]})]},e.id))}),I.length>0&&(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Attendance Summary"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.length}),r.jsx("p",{className:"text-sm text-gray-500",children:"Total Services"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[Math.round(I.length/Math.max(1,Math.floor((Date.now()-new Date(S?.created_at||"").getTime())/6048e5))*100),"%"]}),r.jsx("p",{className:"text-sm text-gray-500",children:"Weekly Average"})]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:I.filter(e=>new Date(e.service_date)>=new Date(Date.now()-2592e6)).length}),r.jsx("p",{className:"text-sm text-gray-500",children:"Last 30 Days"})]})]})]})]})]}),S.dependants?.length&&(0,r.jsxs)(c.Zb,{children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"text-lg flex items-center",children:[r.jsx(f.Z,{className:"h-5 w-5 mr-2"}),"Dependants (",S.dependants.length,")"]})}),r.jsx(c.aY,{children:r.jsx("div",{className:"space-y-3",children:S.dependants.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 capitalize",children:[e.relationship," • ",e.dob?(0,x.p6)(e.dob):"No DOB"]})]}),e.is_member&&r.jsx(d.C,{variant:"secondary",children:"Member"})]},e.id))})})]}),S.notes&&(0,r.jsxs)(c.Zb,{children:[r.jsx(c.Ol,{children:(0,r.jsxs)(c.ll,{className:"text-lg flex items-center",children:[r.jsx(N.Z,{className:"h-5 w-5 mr-2"}),"Notes"]})}),r.jsx(c.aY,{children:r.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:S.notes})})]})]})]})]})}):r.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(h.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Member not found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"The member you're looking for doesn't exist."}),(0,r.jsxs)(n.z,{onClick:()=>C.push("/members"),children:[r.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Back to Members"]})]})})}):null}},9436:(e,s,t)=>{"use strict";t.d(s,{C:()=>c});var r=t(5344);t(3729);var a=t(9247),l=t(1626);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c({className:e,variant:s,...t}){return r.jsx("div",{className:(0,l.cn)(i({variant:s}),e),...t})}},6212:(e,s,t)=>{"use strict";t.d(s,{z:()=>d});var r=t(5344),a=t(3729),l=t(2751),i=t(9247),c=t(1626);let n=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:s,size:t,asChild:a=!1,...i},d)=>{let o=a?l.g7:"button";return r.jsx(o,{className:(0,c.cn)(n({variant:s,size:t,className:e})),ref:d,...i})});d.displayName="Button"},1351:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>c,SZ:()=>d,Zb:()=>i,aY:()=>o,ll:()=>n});var r=t(5344),a=t(3729),l=t(1626);let i=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));i.displayName="Card";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));c.displayName="CardHeader";let n=a.forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter"},6234:(e,s,t)=>{"use strict";t.d(s,{e:()=>a});var r=t(9421);function a(){return(0,r.AY)("https://dsgewsnslfdylvieulsc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRzZ2V3c25zbGZkeWx2aWV1bHNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkwNTc0NjksImV4cCI6MjA3NDYzMzQ2OX0.vCUQKVpsdzI9c_a4zfvKtHLPpLWRBlZxKkA5AiajnqE")}},3024:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8026:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},5794:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},1765:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},7060:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9709:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("Church",[["path",{d:"m18 7 4 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9l4-2",key:"gy5gyo"}],["path",{d:"M14 22v-4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v4",key:"cpkuc4"}],["path",{d:"M18 22V5l-6-3-6 3v17",key:"1hsnhq"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M10 9h4",key:"u4k05v"}]])},2958:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},7121:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},1354:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},5695:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},626:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},6755:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},8822:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},9895:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(9224).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2368:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});let r=(0,t(6843).createProxy)(String.raw`/Users/isaackumi/devel/gigs/cop-chMS/app/members/[id]/page.tsx`),{__esModule:a,$$typeof:l}=r,i=r.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,861,499,945],()=>t(4417));module.exports=r})();